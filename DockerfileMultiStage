# build artifact with maven
FROM maven:3-jdk-8-alpine as BUILD_IMAGE
ADD . /my-app
WORKDIR /my-app
RUN mvn compile
RUN mvn package

# copy into the contanier and run it
FROM openjdk:8-jdk-alpine
COPY --from=BUILD_IMAGE /root/dev/myapp/my-app/target/my-app*.jar .
CMD exec java -jar my-app*.jar
